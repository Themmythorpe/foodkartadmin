{"remainingRequest":"/Users/temz/Sites/foodkartadmin/node_modules/babel-loader/lib/index.js!/Users/temz/Sites/foodkartadmin/src/store/modules/authData.js","dependencies":[{"path":"/Users/temz/Sites/foodkartadmin/src/store/modules/authData.js","mtime":1641411918000},{"path":"/Users/temz/Sites/foodkartadmin/babel.config.js","mtime":1600703374000},{"path":"/Users/temz/Sites/foodkartadmin/node_modules/cache-loader/dist/cjs.js","mtime":1693232960608},{"path":"/Users/temz/Sites/foodkartadmin/node_modules/babel-loader/lib/index.js","mtime":1693232961670}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyI7CmltcG9ydCBmaXJlYmFzZSBmcm9tICJmaXJlYmFzZS9hcHAiOwppbXBvcnQgImZpcmViYXNlL2F1dGgiOwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHsKICAgIGxvZ2dlZEluVXNlcjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJbmZvIikgIT0gbnVsbCA/IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXJJbmZvIikpIDogbnVsbCwKICAgIGxvYWRpbmc6IGZhbHNlLAogICAgZXJyb3I6IG51bGwKICB9LAogIGdldHRlcnM6IHsKICAgIGxvZ2dlZEluVXNlcjogZnVuY3Rpb24gbG9nZ2VkSW5Vc2VyKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5sb2dnZWRJblVzZXI7CiAgICB9LAogICAgbG9hZGluZzogZnVuY3Rpb24gbG9hZGluZyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubG9hZGluZzsKICAgIH0sCiAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3Ioc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmVycm9yOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRVc2VyOiBmdW5jdGlvbiBzZXRVc2VyKHN0YXRlLCBkYXRhKSB7CiAgICAgIHN0YXRlLmxvZ2dlZEluVXNlciA9IGRhdGE7CiAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgc3RhdGUuZXJyb3IgPSBudWxsOwogICAgfSwKICAgIHNldExvZ291dDogZnVuY3Rpb24gc2V0TG9nb3V0KHN0YXRlKSB7CiAgICAgIHN0YXRlLmxvZ2dlZEluVXNlciA9IG51bGw7CiAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgc3RhdGUuZXJyb3IgPSBudWxsOwogICAgICAvLyB0aGlzLiRyb3V0ZXIuZ28oIi8iKTsKICAgIH0sCiAgICBzZXRMb2FkaW5nOiBmdW5jdGlvbiBzZXRMb2FkaW5nKHN0YXRlLCBkYXRhKSB7CiAgICAgIHN0YXRlLmxvYWRpbmcgPSBkYXRhOwogICAgICBzdGF0ZS5lcnJvciA9IG51bGw7CiAgICB9LAogICAgc2V0RXJyb3I6IGZ1bmN0aW9uIHNldEVycm9yKHN0YXRlLCBkYXRhKSB7CiAgICAgIHN0YXRlLmVycm9yID0gZGF0YTsKICAgICAgc3RhdGUubG9nZ2VkSW5Vc2VyID0gbnVsbDsKICAgICAgc3RhdGUubG9hZGluZyA9IGZhbHNlOwogICAgfSwKICAgIGNsZWFyRXJyb3I6IGZ1bmN0aW9uIGNsZWFyRXJyb3Ioc3RhdGUpIHsKICAgICAgc3RhdGUuZXJyb3IgPSBudWxsOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKF9yZWYsIGRhdGEpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICBjb21taXQoImNsZWFyRXJyb3IiKTsKICAgICAgY29tbWl0KCJzZXRMb2FkaW5nIiwgdHJ1ZSk7CiAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChkYXRhLmVtYWlsLCBkYXRhLnBhc3N3b3JkKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgdmFyIG5ld1VzZXIgPSB7CiAgICAgICAgICB1aWQ6IHVzZXIudXNlci51aWQKICAgICAgICB9OwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VySW5mbyIsIEpTT04uc3RyaW5naWZ5KG5ld1VzZXIpKTsKICAgICAgICBjb21taXQoInNldFVzZXIiLCB7CiAgICAgICAgICB1aWQ6IHVzZXIudXNlci51aWQKICAgICAgICB9KTsKICAgICAgICAvLyBjb25zb2xlLmxvZygidXNlciIpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAvLyBIYW5kbGUgRXJyb3JzIGhlcmUuCiAgICAgICAgLy8gdmFyIGVycm9yQ29kZSA9IGVycm9yLmNvZGU7CiAgICAgICAgLy8gdmFyIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7CiAgICAgICAgLy8gY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VySW5mbyIpOwogICAgICAgIGNvbW1pdCgic2V0RXJyb3IiLCBlcnJvcik7CiAgICAgICAgLy8gLi4uCiAgICAgIH0pOwogICAgfSwKICAgIHNpZ25Vc2VyVXA6IGZ1bmN0aW9uIHNpZ25Vc2VyVXAoX3JlZjIsIGRhdGEpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgY29tbWl0KCJzZXRMb2FkaW5nIiwgdHJ1ZSk7CiAgICAgIGNvbW1pdCgiY2xlYXJFcnJvciIpOwogICAgICBmaXJlYmFzZS5hdXRoKCkuY3JlYXRlVXNlcldpdGhFbWFpbEFuZFBhc3N3b3JkKGRhdGEuZW1haWwsIGRhdGEucGFzc3dvcmQpLnRoZW4oZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICBjb21taXQoInNldExvYWRpbmciLCBmYWxzZSk7CiAgICAgICAgdmFyIG5ld1VzZXIgPSB7CiAgICAgICAgICB1aWQ6IHVzZXIudXNlci51aWQKICAgICAgICB9OwogICAgICAgIC8vIGNvbnNvbGUubG9nKG5ld1VzZXIpOwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VySW5mbyIsIEpTT04uc3RyaW5naWZ5KG5ld1VzZXIpKTsKICAgICAgICBjb21taXQoInNldFVzZXIiLCBuZXdVc2VyKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29tbWl0KCJzZXRMb2FkaW5nIiwgZmFsc2UpOwogICAgICAgIGNvbW1pdCgic2V0RXJyb3IiLCBlcnJvcik7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXJJbmZvIik7CiAgICAgICAgLy8gY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICBzaWduT3V0OiBmdW5jdGlvbiBzaWduT3V0KF9yZWYzKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMy5jb21taXQ7CiAgICAgIGZpcmViYXNlLmF1dGgoKS5zaWduT3V0KCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXJJbmZvIik7CiAgICAgICAgY29tbWl0KCJzZXRMb2dvdXQiKTsKICAgICAgfSwgZnVuY3Rpb24gKF9lcnJvcikge30pOwogICAgfQogIH0KfTs="},{"version":3,"names":["firebase","state","loggedInUser","localStorage","getItem","JSON","parse","loading","error","getters","mutations","setUser","data","setLogout","setLoading","setError","clearError","actions","login","_ref","commit","auth","signInWithEmailAndPassword","email","password","then","user","newUser","uid","setItem","stringify","catch","removeItem","signUserUp","_ref2","createUserWithEmailAndPassword","signOut","_ref3","_error"],"sources":["/Users/temz/Sites/foodkartadmin/src/store/modules/authData.js"],"sourcesContent":["import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\n\r\nexport default {\r\n  state: {\r\n    loggedInUser:\r\n      localStorage.getItem(\"userInfo\") != null\r\n        ? JSON.parse(localStorage.getItem(\"userInfo\"))\r\n        : null,\r\n    loading: false,\r\n    error: null,\r\n  },\r\n  getters: {\r\n    loggedInUser: (state) => state.loggedInUser,\r\n    loading: (state) => state.loading,\r\n    error: (state) => state.error,\r\n  },\r\n  mutations: {\r\n    setUser(state, data) {\r\n      state.loggedInUser = data;\r\n      state.loading = false;\r\n      state.error = null;\r\n    },\r\n    setLogout(state) {\r\n      state.loggedInUser = null;\r\n      state.loading = false;\r\n      state.error = null;\r\n      // this.$router.go(\"/\");\r\n    },\r\n    setLoading(state, data) {\r\n      state.loading = data;\r\n      state.error = null;\r\n    },\r\n    setError(state, data) {\r\n      state.error = data;\r\n      state.loggedInUser = null;\r\n      state.loading = false;\r\n    },\r\n    clearError(state) {\r\n      state.error = null;\r\n    },\r\n  },\r\n  actions: {\r\n    login({ commit }, data) {\r\n      commit(\"clearError\");\r\n      commit(\"setLoading\", true);\r\n      firebase\r\n        .auth()\r\n        .signInWithEmailAndPassword(data.email, data.password)\r\n        .then((user) => {\r\n          const newUser = { uid: user.user.uid };\r\n          localStorage.setItem(\"userInfo\", JSON.stringify(newUser));\r\n          commit(\"setUser\", { uid: user.user.uid });\r\n          // console.log(\"user\");\r\n        })\r\n        .catch(function(error) {\r\n          // Handle Errors here.\r\n          // var errorCode = error.code;\r\n          // var errorMessage = error.message;\r\n          // console.log(error);\r\n          localStorage.removeItem(\"userInfo\");\r\n          commit(\"setError\", error);\r\n          // ...\r\n        });\r\n    },\r\n\r\n    signUserUp({ commit }, data) {\r\n      commit(\"setLoading\", true);\r\n      commit(\"clearError\");\r\n      firebase\r\n        .auth()\r\n        .createUserWithEmailAndPassword(data.email, data.password)\r\n        .then((user) => {\r\n          commit(\"setLoading\", false);\r\n\r\n          const newUser = {\r\n            uid: user.user.uid,\r\n          };\r\n          // console.log(newUser);\r\n          localStorage.setItem(\"userInfo\", JSON.stringify(newUser));\r\n          commit(\"setUser\", newUser);\r\n        })\r\n        .catch((error) => {\r\n          commit(\"setLoading\", false);\r\n          commit(\"setError\", error);\r\n          localStorage.removeItem(\"userInfo\");\r\n          // console.log(error);\r\n        });\r\n    },\r\n    signOut({ commit }) {\r\n      firebase\r\n        .auth()\r\n        .signOut()\r\n        .then(\r\n          () => {\r\n            localStorage.removeItem(\"userInfo\");\r\n            commit(\"setLogout\");\r\n          },\r\n          (_error) => {}\r\n        );\r\n    },\r\n  },\r\n};\r\n"],"mappings":"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"}]}